<html>
	<head>
		<title>sim</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
			 <link href="style.css" rel="stylesheet">
		<script src="diffsim.js" type="text/javascript"></script>
	</head>
	<body>
<div id="content">
	<h2>Simulation: Speakers on a Grid</h2>
	<div id="main">
		<form>
		<div id="controls">
			
			<table style="width:100%">
			<tr><td>Grid size: <a href="#" class="tooltip"><img class="tooltip" src="circled-i.png"  alt="(i)"/><span><img class="callout" src="callout.gif" alt="callout"/> Change the size of the grid in which the agents are arranged. The sizes are 20x20 (400 agents), 40x40 (1600 agents) or 80x80 (6400 agents).</span></a> </td>
			<td><input id="gridSizeRadio20" name="gridSize" type="radio" value="20" autocomplete="off"> 20x20 <input id="gridSizeRadio40" name="gridSize" type="radio" value="40" checked autocomplete="off"> 40x40 <input id="gridSizeRadio80" name="gridSize" type="radio" value="80" autocomplete="off"> 80x80 </td></tr>

			<tr><td>Init scenario: <a href="#" class="tooltip"><img class="tooltip" src="circled-i.png"  alt="(i)"/><span><img class="callout" src="callout.gif"  alt="callout"/> Choose how the agents' grammar is initialized. The grammar value deteremines how likely they are to produce either one of the variants "α" or "β". In the visualization, this will show up as green / red colored agents.</span></a> </td>
			<td><select id="initScenario" size="1" autocomplete="off">
      <option value="random" selected>random</option>
      <option value="two fields">two fields</option>
      <option value="island">island</option>
      </select></td></tr>

      <tr><td>Memory size: <a href="#" class="tooltip"><img class="tooltip" src="circled-i.png"  alt="(i)"/><span><img class="callout" src="callout.gif"  alt="callout"/> This parameter determines how many utterances each agent can keep in his memory. Older items, which are over the limit, are simply discarded ("forgotten") by the agents. Larger values mean that the agents are slower to forget and are therefore slower to adopt innovations. </span></a></td>
      <td> <input id="memorySizeSlider" type="range" min="0" max="100" value="20" autocomplete="off"><output for="memorySizeSlider" id="memorySizeSliderOutput">20</output></td></tr>
       <tr><td>Lambda value: <a href="#" class="tooltip"><img class="tooltip" src="circled-i.png"  alt="(i)"/><span><img class="callout" src="callout.gif"  alt="callout"/> The lambda value controls the adoption rate, i.e. how strongly the agents react to new input. The lambda value is used in the calculation of the agents new grammar, after they exchanged some utterances and adjust their grammar accordingly. Larger values mean that the agents respond more strongly to new input.</span></a></td>
       <td> <input id="lambdaSlider" type="range" min="0" max="1" value="0.5" step="0.1" autocomplete="off"><output for="lambdaSlider" id="lambdaSliderOutput">0.5</output></td></tr>

       <tr><td>Neighbor range: <a href="#" class="tooltip"><img class="tooltip" src="circled-i.png"  alt="(i)"/><span><img class="callout" src="callout.gif"  alt="callout"/> The neighbor range determines the maximum distance between agents when they are paired up to exchange utterances. With a value of 8, the selected neighbor could be at most 8 fields away on the grid (either on the x axis or the y axis, or both). With a value of 1, only direct neighbors will be selected (= 8 neighbors: up, down, left, right and diagonal).</span></a></td>
       <td> <input id="neighborRangeSlider" type="range" min="1" max="8" value="1" step="1" autocomplete="off"><output for="neighborRangeSlider" id="neighborRangeSliderOutput">1</output></td></tr>
      
 			<tr><td>Weighting: <a href="#" class="tooltip"><img class="tooltip" src="circled-i.png"  alt="(i)"/><span><img class="callout" src="callout.gif"  alt="callout"/> This option allows to give one of the two variants, in this case "α", some additional weight (either positive or negative). Using the weighting means that the agents will have an inherited bias towards either "α" and "β". The weighting could correspond to a variety of factors in real speaker interaction, e.g. higher prestige, higher efficiency of production, higher communication success rate etc. No weighting corresponds to the "neutral interaction" scenario.</span></a></td>
 			<td> <input name="weighting" id="weightingoff" type="radio" value="none" checked autocomplete="off"> none <input name="weighting" type="radio" id="weightingon" value="weighted" autocomplete="off"> weighted</td></tr>
      
      <tr><td><span id="alphaBiasSpan" class="grayed">Alpha bias:</span> <a href="#" class="tooltip"><img class="tooltip" src="circled-i.png"  alt="(i)"/><span><img class="callout" src="callout.gif"  alt="callout"/> If weighting is enabled, this parameter will determine how large (positive or negative) the bias is that will be given to variant "α". The bias value is mutliplied with the actual probability to calculate a concrete utterance. This means that the bias will have no effect if p("α") = 0 and it will have an increasingly larger effect for higher values of p("α").</span></a></td>
      <td> <input id="alphaBiasSlider" type="range" min="0.95" max="1.05" value="1" step="0.001" disabled autocomplete="off"><output for="alphaBiasSlider" id="alphaBiasSliderOutput" class="grayed">1</output></td></tr>
      <tr><td>Error rate: <a href="#" class="tooltip"><img class="tooltip" src="circled-i.png"  alt="(i)"/><span><img class="callout" src="callout.gif"  alt="callout"/> This option controls how likely the hearers are to misunderstand an utterance. In other words, it determines how likely it is that, given that the speaker says "α", the hearer mistakenly hears "β", and vice versa. This value is by default 0, i.e. there are no misunderstandings.</span></a></td>
      <td> <input id="errorRateSlider" type="range" min="0.000" max="0.010" value="0" step="0.001" autocomplete="off"><output for="errorRateSlider" id="errorRateSliderOutput">0</output></td></tr>
    </table>

		</div>
			<input id="initButton" type="button" value="init">
			<input id="stepButton" type="button" value="step" disabled>
			<input id="runStopButton" type="button" value="run/stop" disabled><br>
		</form>

		<div>
		<canvas width="160" height="160" id="simCanvas">Can't see anything? Please upgrade to a browser that supports the canvas tag, e.g. recent versions of <a href="www.getfirefox.com">Firefox</a> or <a href="https://www.google.com/chrome">Google Chrome</a>.</canvas>
		</div>
		<div id="data">
			ticks: <output id="ticks">0</output>
		</div>
		</div><!-- /main -->
		<div id="sidebar">
			<strong>About this simulation</strong><br/>
			<p>In this simulation, the agents are arranged in a 2D grid. Each pixel represents one agent. The agents each have a memory and a grammar. The grammar is simply a number between 0 and 1, which determines how likely the agents are to produce either variant "α" or "β" of an (unspecified) linguistic variable.</p> 
			<p>When the simulation is started, the agents are paired up randomly with one of their neighbors.  The agents are in contact with their nearby neighbors only. Each pair exchanges some utterances produced according to their individual grammar. The hearers will add the new utterances to their memory and slightly adjust their own grammar according to their recent memory. The grammar of each agent is visualized with the help of colors: Green means high probability to produce "α", while red means high probability to produce "β".</p>
			<!--p><img src="formula.png" alt="formula"></p-->
		</div><!-- /main -->
		<div>
		<canvas width="800" height="120" id="plotCanvas">Can't see anything? Please upgrade to a browser that supports the canvas tag, e.g. recent versions of <a href="www.getfirefox.com">Firefox</a> or <a href="https://www.google.com/chrome">Google Chrome</a>.</canvas>
			<a id="exportLink" href="">export data</a>

		</div>
		</div><!-- /content -->

	</body>
</html>
