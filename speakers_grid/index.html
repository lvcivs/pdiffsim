<html>
	<head>
		<title>sim</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
			 <link href='style.css' rel='stylesheet'>
		<script src='speakers_grid.js' type='text/javascript'></script>
	</head>
	<body>
<div id="content">
	<h2>Speaker simulation (grid)</h2>
	<div id="main">
		<form>
		<div id="controls">
				
			Grid size: <input name="gridSize" type="radio" onclick="setGridSize(20)" value="20"> 20x20 <input name="gridSize" type="radio" onclick="setGridSize(40)" value="40" checked> 40x40 <input name="gridSize" type="radio" onclick="setGridSize(80)" value="80"> 80x80<br>

			Init scenario: <select name="initScenario"  onchange="chooseInitScenario(this.form.initScenario.options[this.form.initScenario.selectedIndex].value)" size="1">
      <option value="random" selected>random</option>
      <option value="two fields">two fields</option>
      <option value="island">island</option>
      </select><br>

      Memory limit: <input id="memorySlider" type="range" min="0" max="100" value="20" oninput="document.querySelector('#memoryOutput').value = value;setMemory(value)"></input><output for="memorySlider" id="memoryOutput">20</output><br>
      Lambda value: <input id="lambdaSlider" type="range" min="0" max="1" value="0.5" step="0.1" oninput="document.querySelector('#lambdaSliderOutput').value = value;setLambda(value)"></input><output for="lambdaSlider" id="lambdaSliderOutput">0.5</output><br>
      
 			Weighting: <input name="weighting" type="radio" onclick="setWeighting(value)" value="none" checked> none (neutral interaction) <input name="weighting" type="radio" onclick="setWeighting(value)" value="weighted"> weighted<br>
      <span id="alphaBiasSpan" class="grayed">alpha bias: <input id="alphaBiasSlider" type="range" min="0.5" max="1.5" value="1" step="0.05" disabled oninput="document.querySelector('#alphaBiasSliderOutput').value = value;setAlphaBias(value)"></input><output for="alphaBiasSlider" id="alphaBiasSliderOutput">1</output></span><br>
      Error rate: <input id="errorRateSlider" type="range" min="0.000" max="0.010" value="0.000" step="0.001" oninput="document.querySelector('#errorRateOutput').value = value;setErrorRate(value)"></input><output for="errorRateSlider" id="errorRateOutput">0.000</output><br>
    </select>

		</div>
			<input id='initButton' type="button" onclick="initSim()" value="init"></input>
			<input id='stepButton' type="button" onclick="stepSim()" value="step" disabled></input>
			<input id='runStopButton' type="button" onclick="runSim()" value="run/stop" disabled></input><br>
		</form>

		<div>
		<canvas width='160' height='160' id='simCanvas'>Can't see anything? Please upgrade to a browser that supports the canvas tag, e.g. recent versions of <a href="www.getfirefox.com">Firefox</a> or <a href="https://www.google.com/chrome">Google Chrome</a>.</canvas>
		</div>
		<div id="data">
			ticks: <output id="ticks">0</output>
		</div>
		</div>
		<div id="sidebar">
			<h3>About this simulation</h3>
			In this simulation, the agents are arranged in a 2D grid. Each pixel represents one agent.  The agents are connected to their immediate neighbors (8 neighbors: up, down, left, right, diagonal). The agents each have a memory and a grammar. The grammar is simply a number between 0 and 1, and it determines how likely the agents are to produce either variant "α" or "β" of a linguistic variable (of any kind). When the simulation is started, the agents are paired up randomely with one of their neighbors. Each pair exchanges some utterances produced according to their individual grammar. The hearers will add the new utterances to their memory and slightly adjust their own grammar according to their recent memory. The grammar of each agent is visualized with the help of colors: Green means high probability to produce "α", while red means high probablity to produce "β".
		</div>
		</div>

	</body>
</html>
